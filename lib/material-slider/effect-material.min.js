/**
 * UI Initiative Material You Slider
 *
 * Material You Carousel made with Swiper
 *
 * https://uiinitiative.com
 *
 * Copyright 2025 UI Initiative
 *
 * Released under the UI Initiative Regular License
 *
 * May 27, 2025
 */

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).EffectMaterial=t()}(this,(function(){"use strict";function e({swiper:e,duration:t,transformElements:a,allSlides:s}){const{activeIndex:i}=e;if(e.params.virtualTranslate&&0!==t){let t,r=!1;t=s?a:a.filter((t=>{const a=t.classList.contains("swiper-slide-transform")?(t=>{if(!t.parentElement)return e.slides.filter((e=>e.shadowRoot&&e.shadowRoot===t.parentNode))[0];return t.parentElement})(t):t;return e.getSlideIndex(a)===i})),t.forEach((t=>{!function(e,t){t&&e.addEventListener("transitionend",(function a(s){s.target===e&&(t.call(e,s),e.removeEventListener("transitionend",a))}))}(t,(()=>{if(r)return;if(!e||e.destroyed)return;r=!0,e.animating=!1;const t=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});e.wrapperEl.dispatchEvent(t)}))}))}}return"undefined"!=typeof window&&window.SwiperElementRegisterParams&&window.SwiperElementRegisterParams(["materialEffect"]),function({swiper:t,on:a,extendParams:s}){s({materialEffect:{slideSplitRatio:.65}}),a("beforeInit",(()=>{if("material"!==t.params.effect)return;t.classNames.push(`${t.params.containerModifierClass}material`),t.isElement&&t.hostEl&&t.hostEl.classList.add(`swiper-${t.params.direction}`);const e={loopAdditionalSlides:1,watchSlidesProgress:!0,virtualTranslate:!t.params.cssMode};Object.assign(t.params,e),Object.assign(t.originalParams,e)})),a("setTranslate",(()=>{"material"===t.params.effect&&(()=>{const{slides:e,slidesSizesGrid:a,params:s,size:i,rtlTranslate:r}=t,{spaceBetween:l,cssMode:n,centeredSlides:o}=s;let{slidesPerView:d}=s;const{slideSplitRatio:c}=s.materialEffect,f=o&&Math.ceil(d)%2==1&&Math.ceil(d)-Math.floor(d)==1;f&&(d=Math.floor(d));const p=o&&parseInt(d,10)!==d,m=o?Math.ceil(d):d,h=o&&m%2==1,u=o&&m%2==0,w=r?-1:1;let M=o?p?(d-Math.floor(d))/2:.5:Math.min(Math.max(c,0),1),y=o?p?(d-Math.floor(d))/2:.5:1-Math.min(Math.max(c,0),1),E=p?.5-y+.5:y;if(f){const e=Math.floor(s.slidesPerView)-1;M=(s.slidesPerView-e)/2,y=M,E=.5-y+.5}for(let s=0;s<e.length;s+=1){const c=e[s],f=c.querySelector(".swiper-material-wrapper"),S=c.querySelectorAll(".swiper-material-animate-opacity"),b=c.querySelectorAll("[data-swiper-material-scale]"),g=-c.progress+(r&&!o?d-1:0),v=c.swiperSlideOffset-(r?(t.slidesSizesGrid[0]+l)*(d-1):0),x=t.translate;let P,_=0,q=0;const z=a[s],A=0!==y||o?l/z:0,G=n?x:0;if(g<=0)if(o&&d>1){if(g<=0&&g>=-(m-2)&&(_=x,P=1,q=1),h&&g<-(m-Math.ceil(m/2))){const e=Math.ceil(m/2)-Math.abs(g);P=e,q=P**4,_=x+z*(1-e)*(1+2*A)*w}if(u&&g<-(m/2-1)&&g>=-m/2){const e=m/2-Math.abs(g);P=M-A+(E+2*A)*(m/2-Math.abs(g)),q=((P-M)/(1-M))**4,_=x+z*(E+A)*(1-e)*w}if(u&&g<-m/2){let e=m/2+1-Math.abs(g);P=0,e>=0&&(e=2*-A+e*(1+2*A),e=Math.max(Math.min(e,1),0),P=(y-A)*e),_=x+z*w*(E+A)*(2-e)+z*w*(y-A)*(1-e)}}else P=1+g,_=-v,q=P**4;if(1===d)g>0&&(P=1-g,_=-v+i*Math.min(g,1)*w,q=P**4);else{if(g>0&&g<=d-2&&(_=x,P=1,q=1),u?g>m/2-1&&g<=m/2:g>m-2&&g<=m-1){const e=u?Math.floor(m/2):1;P=M-A+(E+2*A)*(m-e-Math.abs(g)),_=x,q=1===M?P**4:((P-M)/(1-M))**4}if(h&&g>d-Math.ceil(d/2)){const e=Math.ceil(d/2)-(d-Math.abs(g));_=x-z*(2*A)*e,P=1-e,q=P**4}if(g>d-1&&g<=d&&!o){const e=d-Math.abs(g),t=y-A;P=t+(M-A-t)*e,_=x-z*(y+A)*(1-e)*w,0===y&&(q=P**4)}if(g>(o?m/2:m)&&!h){let e=(o?m/2+1:m+1)-Math.abs(g),t=0;P=0,e>=0&&(e=2*-A+e*(1+2*A),e=Math.max(Math.min(e,1),0),P=(y-A)*e,t=-e*(y+A)*z+e*l*(p?2:1)),_=-v+(i*Math.min(g,1)+t)*w,q=0}}P<0&&(P=0),P>1&&(P=1),0===P&&(P=1e-5),c.style.setProperty("--swiper-material-scale",P),S.forEach((e=>{e.style.opacity=q})),b.forEach((e=>{let t=parseFloat(e.getAttribute("data-swiper-material-scale"));(Number.isNaN(t)||!t&&0!==t)&&(t=1),e.style.transform=`scale(${1+(t-1)*(1-P)})`})),t.isHorizontal()?(f.style.width=100*P+"%",f.style.transform=`translate3d(${_-G+(r?(1-P)*z:0)}px, 0, 0)`):(f.style.height=100*P+"%",f.style.transform=`translate3d(0, ${_-G}px, 0)`)}})()})),a("setTransition",((a,s)=>{"material"===t.params.effect&&(a=>{const{slides:s}=t,i=[];for(let e=0;e<s.length;e+=1){const t=s[e],r=t.querySelector(".swiper-material-wrapper"),l=t.querySelectorAll(".swiper-material-animate-opacity");[r,...t.querySelectorAll("[data-swiper-material-scale]"),...l].forEach((e=>{e.style.transitionDuration=`${a}ms`})),i.push(r)}e({swiper:t,duration:a,transformElements:i,allSlides:!0})})(s)})),a("slidesUpdated",(()=>{if(!t.params.centeredSlides&&t.params.slidesPerView>1&&!t.params.loop&&t.params.materialEffect.slideSplitRatio<1){const e=t.snapGrid[t.snapGrid.length-1];t.snapGrid.push(e+t.slidesSizesGrid[0]+t.params.spaceBetween)}t.__preventObserver__=!0,t.el.style.setProperty("--swiper-material-slide-size",`${t.slidesSizesGrid[0]}px`),requestAnimationFrame((()=>{t.__preventObserver__=!1}))}))}}));
//# sourceMappingURL=effect-material.min.js.map